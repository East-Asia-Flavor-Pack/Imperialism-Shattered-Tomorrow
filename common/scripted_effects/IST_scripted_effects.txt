# testing effect code
ist_debug_effect = {
	trigger_event = {
		id = ist_modern_events.999
	}
}

# 파산시 이권계약으로 맺힌 채무 소각
ist_remove_credit_modi = {
	remove_modifier = ist_modern_forest_state_down_credit1
	remove_modifier = ist_modern_forest_state_down_credit2
	remove_modifier = ist_modern_forest_state_down_credit3
	remove_modifier = ist_modern_forest_state_down_credit4
	remove_modifier = ist_modern_forest_state_down_credit5
	remove_modifier = ist_modern_mining_state_down_credit1
	remove_modifier = ist_modern_mining_state_down_credit2
	remove_modifier = ist_modern_mining_state_down_credit3
	remove_modifier = ist_modern_mining_state_down_credit4
	remove_modifier = ist_modern_mining_state_down_credit5
	remove_modifier = ist_modern_fishing_state_down_credit1
	remove_modifier = ist_modern_fishing_state_down_credit2
	remove_modifier = ist_modern_fishing_state_down_credit3
	remove_modifier = ist_modern_fishing_state_down_credit4
	remove_modifier = ist_modern_fishing_state_down_credit5
	
	remove_modifier = ist_modern_credit_state_down_credit1
	remove_modifier = ist_modern_credit_state_down_credit2
	remove_modifier = ist_modern_credit_state_down_credit3
	remove_modifier = ist_modern_credit_state_down_credit4
	remove_modifier = ist_modern_credit_state_down_credit5
}

# 저널들 있나 없나 체크
ist_check_has_point_je = {
	if = {	#열강 영향권 점수판
		limit = {
			country_rank = rank_value:great_power	#열강이면서
			NOT = { has_journal_entry = je_ist_puppet_point }	#저널 아직 없으면
		}
		add_journal_entry = {
			type = je_ist_puppet_point
		}
	}
	if = {	#약소국 예속화 페이즈 2
		limit = {
			is_subject = yes
			OR = {
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_dominion
			}
			NOT = { has_journal_entry = je_ist_submissive_second }	#저널 아직 없으면
		}
		add_journal_entry = {
			type = je_ist_submissive_second
		}
	}
	if = {	#약소국 예속화 페이즈 3
		limit = {
			is_subject = yes
			is_subject_type = subject_type_puppet
			NOT = { has_journal_entry = je_ist_submissive_third }	#저널 아직 없으면
		}
		add_journal_entry = {
			type = je_ist_submissive_third
		}
	}
}

# 강제로 노예제 폐지당할시 예속화 저널 +50받고 시작
ist_check_forced_slave_law = {
	if = {
		limit = {
			has_modifier = forced_slavery_ban
			NOT = { has_variable = ist_var_slave_law_tag }
			NOT = { has_variable = ist_var_slave_law_token }
		}
		set_variable = ist_var_slave_law_tag
		set_variable = ist_var_slave_law_token
	}
}

##특약 개발 딜
# 탄광 개발
ist_effect_deal_coal = {
	if = {
		limit = {
			ist_modern_building_coal_count <= 1
		}
		create_building = {
			building = building_coal_mine
			level = 5
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 3
		}
		create_building = {
			building = building_coal_mine
			level = 7
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 5
		}
		create_building = {
			building = building_coal_mine
			level = 9
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 7
		}
		create_building = {
			building = building_coal_mine
			level = 11
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 9
		}
		create_building = {
			building = building_coal_mine
			level = 13
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 11
		}
		create_building = {
			building = building_coal_mine
			level = 15
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 13
		}
		create_building = {
			building = building_coal_mine
			level = 17
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 15
		}
		create_building = {
			building = building_coal_mine
			level = 19
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 17
		}
		create_building = {
			building = building_coal_mine
			level = 21
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 19
		}
		create_building = {
			building = building_coal_mine
			level = 23
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 21
		}
		create_building = {
			building = building_coal_mine
			level = 25
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 23
		}
		create_building = {
			building = building_coal_mine
			level = 27
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 25
		}
		create_building = {
			building = building_coal_mine
			level = 29
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 27
		}
		create_building = {
			building = building_coal_mine
			level = 31
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 29
		}
		create_building = {
			building = building_coal_mine
			level = 33
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 31
		}
		create_building = {
			building = building_coal_mine
			level = 35
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 33
		}
		create_building = {
			building = building_coal_mine
			level = 37
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 35
		}
		create_building = {
			building = building_coal_mine
			level = 39
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 37
		}
		create_building = {
			building = building_coal_mine
			level = 41
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 39
		}
		create_building = {
			building = building_coal_mine
			level = 43
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 41
		}
		create_building = {
			building = building_coal_mine
			level = 45
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 43
		}
		create_building = {
			building = building_coal_mine
			level = 47
		}
	}
	else_if = {
		limit = {
			ist_modern_building_coal_count <= 45
		}
		create_building = {
			building = building_coal_mine
			level = 50
		}
	}
}
# 철광 개발
ist_effect_deal_iron = {
	if = {
		limit = {
			ist_modern_building_iron_count <= 1
		}
		create_building = {
			building = building_iron_mine
			level = 5
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 3
		}
		create_building = {
			building = building_iron_mine
			level = 7
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 5
		}
		create_building = {
			building = building_iron_mine
			level = 9
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 7
		}
		create_building = {
			building = building_iron_mine
			level = 11
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 9
		}
		create_building = {
			building = building_iron_mine
			level = 13
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 11
		}
		create_building = {
			building = building_iron_mine
			level = 15
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 13
		}
		create_building = {
			building = building_iron_mine
			level = 17
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 15
		}
		create_building = {
			building = building_iron_mine
			level = 19
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 17
		}
		create_building = {
			building = building_iron_mine
			level = 21
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 19
		}
		create_building = {
			building = building_iron_mine
			level = 23
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 21
		}
		create_building = {
			building = building_iron_mine
			level = 25
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 23
		}
		create_building = {
			building = building_iron_mine
			level = 27
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 25
		}
		create_building = {
			building = building_iron_mine
			level = 29
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 27
		}
		create_building = {
			building = building_iron_mine
			level = 31
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 29
		}
		create_building = {
			building = building_iron_mine
			level = 33
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 31
		}
		create_building = {
			building = building_iron_mine
			level = 35
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 33
		}
		create_building = {
			building = building_iron_mine
			level = 37
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 35
		}
		create_building = {
			building = building_iron_mine
			level = 39
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 37
		}
		create_building = {
			building = building_iron_mine
			level = 41
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 39
		}
		create_building = {
			building = building_iron_mine
			level = 43
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 41
		}
		create_building = {
			building = building_iron_mine
			level = 45
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 43
		}
		create_building = {
			building = building_iron_mine
			level = 47
		}
	}
	else_if = {
		limit = {
			ist_modern_building_iron_count <= 45
		}
		create_building = {
			building = building_iron_mine
			level = 50
		}
	}
}
# 유황 개발
ist_effect_deal_sulfur = {
	if = {
		limit = {
			ist_modern_building_sulfur_count <= 1
		}
		create_building = {
			building = building_sulfur_mine
			level = 5
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 3
		}
		create_building = {
			building = building_sulfur_mine
			level = 7
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 5
		}
		create_building = {
			building = building_sulfur_mine
			level = 9
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 7
		}
		create_building = {
			building = building_sulfur_mine
			level = 11
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 9
		}
		create_building = {
			building = building_sulfur_mine
			level = 13
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 11
		}
		create_building = {
			building = building_sulfur_mine
			level = 15
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 13
		}
		create_building = {
			building = building_sulfur_mine
			level = 17
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 15
		}
		create_building = {
			building = building_sulfur_mine
			level = 19
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 17
		}
		create_building = {
			building = building_sulfur_mine
			level = 21
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 19
		}
		create_building = {
			building = building_sulfur_mine
			level = 23
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 21
		}
		create_building = {
			building = building_sulfur_mine
			level = 25
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 23
		}
		create_building = {
			building = building_sulfur_mine
			level = 27
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 25
		}
		create_building = {
			building = building_sulfur_mine
			level = 29
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 27
		}
		create_building = {
			building = building_sulfur_mine
			level = 31
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 29
		}
		create_building = {
			building = building_sulfur_mine
			level = 33
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 31
		}
		create_building = {
			building = building_sulfur_mine
			level = 35
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 33
		}
		create_building = {
			building = building_sulfur_mine
			level = 37
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 35
		}
		create_building = {
			building = building_sulfur_mine
			level = 39
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 37
		}
		create_building = {
			building = building_sulfur_mine
			level = 41
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 39
		}
		create_building = {
			building = building_sulfur_mine
			level = 43
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 41
		}
		create_building = {
			building = building_sulfur_mine
			level = 45
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 43
		}
		create_building = {
			building = building_sulfur_mine
			level = 47
		}
	}
	else_if = {
		limit = {
			ist_modern_building_sulfur_count <= 45
		}
		create_building = {
			building = building_sulfur_mine
			level = 50
		}
	}
}
# 금광 개발
ist_effect_deal_gold = {
	if = {
		limit = {
			ist_modern_building_gold_count <= 1
		}
		create_building = {
			building = building_gold_mine
			level = 3
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 2
		}
		create_building = {
			building = building_gold_mine
			level = 4
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 3
		}
		create_building = {
			building = building_gold_mine
			level = 5
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 4
		}
		create_building = {
			building = building_gold_mine
			level = 6
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 5
		}
		create_building = {
			building = building_gold_mine
			level = 7
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 6
		}
		create_building = {
			building = building_gold_mine
			level = 8
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 7
		}
		create_building = {
			building = building_gold_mine
			level = 9
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 8
		}
		create_building = {
			building = building_gold_mine
			level = 10
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 9
		}
		create_building = {
			building = building_gold_mine
			level = 11
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 10
		}
		create_building = {
			building = building_gold_mine
			level = 12
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 11
		}
		create_building = {
			building = building_gold_mine
			level = 13
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 12
		}
		create_building = {
			building = building_gold_mine
			level = 14
		}
	}
	else_if = {
		limit = {
			ist_modern_building_gold_count <= 13
		}
		create_building = {
			building = building_gold_mine
			level = 15
		}
	}
}
# 나무 개발
ist_effect_deal_wood = {
	if = {
		limit = {
			ist_modern_building_wood_count <= 1
		}
		create_building = {
			building = building_logging_camp
			level = 5
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 3
		}
		create_building = {
			building = building_logging_camp
			level = 7
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 5
		}
		create_building = {
			building = building_logging_camp
			level = 9
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 7
		}
		create_building = {
			building = building_logging_camp
			level = 11
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 9
		}
		create_building = {
			building = building_logging_camp
			level = 13
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 11
		}
		create_building = {
			building = building_logging_camp
			level = 15
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 13
		}
		create_building = {
			building = building_logging_camp
			level = 17
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 15
		}
		create_building = {
			building = building_logging_camp
			level = 19
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 17
		}
		create_building = {
			building = building_logging_camp
			level = 21
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 19
		}
		create_building = {
			building = building_logging_camp
			level = 23
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 21
		}
		create_building = {
			building = building_logging_camp
			level = 25
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 23
		}
		create_building = {
			building = building_logging_camp
			level = 27
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 25
		}
		create_building = {
			building = building_logging_camp
			level = 29
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 27
		}
		create_building = {
			building = building_logging_camp
			level = 31
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 29
		}
		create_building = {
			building = building_logging_camp
			level = 33
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 31
		}
		create_building = {
			building = building_logging_camp
			level = 35
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 33
		}
		create_building = {
			building = building_logging_camp
			level = 37
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 35
		}
		create_building = {
			building = building_logging_camp
			level = 39
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 37
		}
		create_building = {
			building = building_logging_camp
			level = 41
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 39
		}
		create_building = {
			building = building_logging_camp
			level = 43
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 41
		}
		create_building = {
			building = building_logging_camp
			level = 45
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 43
		}
		create_building = {
			building = building_logging_camp
			level = 47
		}
	}
	else_if = {
		limit = {
			ist_modern_building_wood_count <= 45
		}
		create_building = {
			building = building_logging_camp
			level = 50
		}
	}
}
# 생선 개발
ist_effect_deal_fish = {
	if = {
		limit = {
			ist_modern_building_fish_count <= 1
		}
		create_building = {
			building = building_fishing_wharf
			level = 5
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 3
		}
		create_building = {
			building = building_fishing_wharf
			level = 7
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 5
		}
		create_building = {
			building = building_fishing_wharf
			level = 9
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 7
		}
		create_building = {
			building = building_fishing_wharf
			level = 11
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 9
		}
		create_building = {
			building = building_fishing_wharf
			level = 13
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 11
		}
		create_building = {
			building = building_fishing_wharf
			level = 15
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 13
		}
		create_building = {
			building = building_fishing_wharf
			level = 17
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 15
		}
		create_building = {
			building = building_fishing_wharf
			level = 19
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 17
		}
		create_building = {
			building = building_fishing_wharf
			level = 21
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 19
		}
		create_building = {
			building = building_fishing_wharf
			level = 23
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 21
		}
		create_building = {
			building = building_fishing_wharf
			level = 25
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 23
		}
		create_building = {
			building = building_fishing_wharf
			level = 27
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 25
		}
		create_building = {
			building = building_fishing_wharf
			level = 29
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 27
		}
		create_building = {
			building = building_fishing_wharf
			level = 31
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 29
		}
		create_building = {
			building = building_fishing_wharf
			level = 33
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 31
		}
		create_building = {
			building = building_fishing_wharf
			level = 35
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 33
		}
		create_building = {
			building = building_fishing_wharf
			level = 37
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 35
		}
		create_building = {
			building = building_fishing_wharf
			level = 39
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 37
		}
		create_building = {
			building = building_fishing_wharf
			level = 41
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 39
		}
		create_building = {
			building = building_fishing_wharf
			level = 43
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 41
		}
		create_building = {
			building = building_fishing_wharf
			level = 45
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 43
		}
		create_building = {
			building = building_fishing_wharf
			level = 47
		}
	}
	else_if = {
		limit = {
			ist_modern_building_fish_count <= 45
		}
		create_building = {
			building = building_fishing_wharf
			level = 50
		}
	}
}
# 석유 개발
ist_effect_deal_oil = {
	if = {
		limit = {
			ist_modern_building_oil_count <= 1
		}
		create_building = {
			building = building_oil_rig
			level = 5
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 3
		}
		create_building = {
			building = building_oil_rig
			level = 7
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 5
		}
		create_building = {
			building = building_oil_rig
			level = 9
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 7
		}
		create_building = {
			building = building_oil_rig
			level = 11
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 9
		}
		create_building = {
			building = building_oil_rig
			level = 13
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 11
		}
		create_building = {
			building = building_oil_rig
			level = 15
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 13
		}
		create_building = {
			building = building_oil_rig
			level = 17
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 15
		}
		create_building = {
			building = building_oil_rig
			level = 19
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 17
		}
		create_building = {
			building = building_oil_rig
			level = 21
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 19
		}
		create_building = {
			building = building_oil_rig
			level = 23
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 21
		}
		create_building = {
			building = building_oil_rig
			level = 25
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 23
		}
		create_building = {
			building = building_oil_rig
			level = 27
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 25
		}
		create_building = {
			building = building_oil_rig
			level = 29
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 27
		}
		create_building = {
			building = building_oil_rig
			level = 31
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 29
		}
		create_building = {
			building = building_oil_rig
			level = 33
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 31
		}
		create_building = {
			building = building_oil_rig
			level = 35
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 33
		}
		create_building = {
			building = building_oil_rig
			level = 37
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 35
		}
		create_building = {
			building = building_oil_rig
			level = 39
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 37
		}
		create_building = {
			building = building_oil_rig
			level = 41
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 39
		}
		create_building = {
			building = building_oil_rig
			level = 43
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 41
		}
		create_building = {
			building = building_oil_rig
			level = 45
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 43
		}
		create_building = {
			building = building_oil_rig
			level = 47
		}
	}
	else_if = {
		limit = {
			ist_modern_building_oil_count <= 45
		}
		create_building = {
			building = building_oil_rig
			level = 50
		}
	}
}

# 영향권 갬블 - 범전략지역 변수 삭제
ist_puppet_table_remove_region = {
	remove_global_variable = ist_global_var_table_europe_west
	remove_global_variable = ist_global_var_table_europe_east
	remove_global_variable = ist_global_var_table_america_north
	remove_global_variable = ist_global_var_table_america_mid
	remove_global_variable = ist_global_var_table_america_south
	remove_global_variable = ist_global_var_table_africa_north
	remove_global_variable = ist_global_var_table_africa_west
	remove_global_variable = ist_global_var_table_africa_east
	remove_global_variable = ist_global_var_table_middle_east
	remove_global_variable = ist_global_var_table_asia_north
	remove_global_variable = ist_global_var_table_asia_india
	remove_global_variable = ist_global_var_table_asia_east
	remove_global_variable = ist_global_var_table_asia_china
	remove_global_variable = ist_global_var_table_asia_south
	remove_global_variable = ist_global_var_table_oceania_oceania
}
# 영향권 갬블 - 각 판돈 단위별 투자 결정 행위 이펙트
ist_puppet_table_add_500 = {
	if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_west
		}
		change_variable = {
			name = ist_var_puppet_point_europe_west
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_east
		}
		change_variable = {
			name = ist_var_puppet_point_europe_east
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_north
		}
		change_variable = {
			name = ist_var_puppet_point_america_north
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_mid
		}
		change_variable = {
			name = ist_var_puppet_point_america_mid
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_south
		}
		change_variable = {
			name = ist_var_puppet_point_america_south
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_north
		}
		change_variable = {
			name = ist_var_puppet_point_africa_north
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_west
		}
		change_variable = {
			name = ist_var_puppet_point_africa_west
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_east
		}
		change_variable = {
			name = ist_var_puppet_point_africa_east
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_middle_east
		}
		change_variable = {
			name = ist_var_puppet_point_middle_east
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_north
		}
		change_variable = {
			name = ist_var_puppet_point_asia_north
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_india
		}
		change_variable = {
			name = ist_var_puppet_point_asia_india
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_east
		}
		change_variable = {
			name = ist_var_puppet_point_asia_east
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_china
		}
		change_variable = {
			name = ist_var_puppet_point_asia_china
			add = -500
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_south
		}
		change_variable = {
			name = ist_var_puppet_point_asia_south
			add = -500
		}
	}
	else = {
		limit = {
			has_global_variable = ist_global_var_table_oceania_oceania
		}
		change_variable = {
			name = ist_var_puppet_point_oceania_oceania
			add = -500
		}
	}
}
ist_puppet_table_add_250 = {
	if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_west
		}
		change_variable = {
			name = ist_var_puppet_point_europe_west
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_east
		}
		change_variable = {
			name = ist_var_puppet_point_europe_east
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_north
		}
		change_variable = {
			name = ist_var_puppet_point_america_north
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_mid
		}
		change_variable = {
			name = ist_var_puppet_point_america_mid
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_south
		}
		change_variable = {
			name = ist_var_puppet_point_america_south
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_north
		}
		change_variable = {
			name = ist_var_puppet_point_africa_north
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_west
		}
		change_variable = {
			name = ist_var_puppet_point_africa_west
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_east
		}
		change_variable = {
			name = ist_var_puppet_point_africa_east
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_middle_east
		}
		change_variable = {
			name = ist_var_puppet_point_middle_east
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_north
		}
		change_variable = {
			name = ist_var_puppet_point_asia_north
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_india
		}
		change_variable = {
			name = ist_var_puppet_point_asia_india
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_east
		}
		change_variable = {
			name = ist_var_puppet_point_asia_east
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_china
		}
		change_variable = {
			name = ist_var_puppet_point_asia_china
			add = -250
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_south
		}
		change_variable = {
			name = ist_var_puppet_point_asia_south
			add = -250
		}
	}
	else = {
		limit = {
			has_global_variable = ist_global_var_table_oceania_oceania
		}
		change_variable = {
			name = ist_var_puppet_point_oceania_oceania
			add = -250
		}
	}
}
ist_puppet_table_add_100 = {
	if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_west
		}
		change_variable = {
			name = ist_var_puppet_point_europe_west
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_east
		}
		change_variable = {
			name = ist_var_puppet_point_europe_east
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_north
		}
		change_variable = {
			name = ist_var_puppet_point_america_north
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_mid
		}
		change_variable = {
			name = ist_var_puppet_point_america_mid
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_south
		}
		change_variable = {
			name = ist_var_puppet_point_america_south
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_north
		}
		change_variable = {
			name = ist_var_puppet_point_africa_north
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_west
		}
		change_variable = {
			name = ist_var_puppet_point_africa_west
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_east
		}
		change_variable = {
			name = ist_var_puppet_point_africa_east
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_middle_east
		}
		change_variable = {
			name = ist_var_puppet_point_middle_east
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_north
		}
		change_variable = {
			name = ist_var_puppet_point_asia_north
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_india
		}
		change_variable = {
			name = ist_var_puppet_point_asia_india
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_east
		}
		change_variable = {
			name = ist_var_puppet_point_asia_east
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_china
		}
		change_variable = {
			name = ist_var_puppet_point_asia_china
			add = -100
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_south
		}
		change_variable = {
			name = ist_var_puppet_point_asia_south
			add = -100
		}
	}
	else = {
		limit = {
			has_global_variable = ist_global_var_table_oceania_oceania
		}
		change_variable = {
			name = ist_var_puppet_point_oceania_oceania
			add = -100
		}
	}
}
ist_puppet_table_add_50 = {
	if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_west
		}
		change_variable = {
			name = ist_var_puppet_point_europe_west
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_east
		}
		change_variable = {
			name = ist_var_puppet_point_europe_east
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_north
		}
		change_variable = {
			name = ist_var_puppet_point_america_north
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_mid
		}
		change_variable = {
			name = ist_var_puppet_point_america_mid
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_south
		}
		change_variable = {
			name = ist_var_puppet_point_america_south
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_north
		}
		change_variable = {
			name = ist_var_puppet_point_africa_north
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_west
		}
		change_variable = {
			name = ist_var_puppet_point_africa_west
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_east
		}
		change_variable = {
			name = ist_var_puppet_point_africa_east
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_middle_east
		}
		change_variable = {
			name = ist_var_puppet_point_middle_east
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_north
		}
		change_variable = {
			name = ist_var_puppet_point_asia_north
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_india
		}
		change_variable = {
			name = ist_var_puppet_point_asia_india
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_east
		}
		change_variable = {
			name = ist_var_puppet_point_asia_east
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_china
		}
		change_variable = {
			name = ist_var_puppet_point_asia_china
			add = -50
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_south
		}
		change_variable = {
			name = ist_var_puppet_point_asia_south
			add = -50
		}
	}
	else = {
		limit = {
			has_global_variable = ist_global_var_table_oceania_oceania
		}
		change_variable = {
			name = ist_var_puppet_point_oceania_oceania
			add = -50
		}
	}
}
ist_puppet_table_add_10 = {
	if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_west
		}
		change_variable = {
			name = ist_var_puppet_point_europe_west
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_east
		}
		change_variable = {
			name = ist_var_puppet_point_europe_east
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_north
		}
		change_variable = {
			name = ist_var_puppet_point_america_north
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_mid
		}
		change_variable = {
			name = ist_var_puppet_point_america_mid
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_south
		}
		change_variable = {
			name = ist_var_puppet_point_america_south
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_north
		}
		change_variable = {
			name = ist_var_puppet_point_africa_north
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_west
		}
		change_variable = {
			name = ist_var_puppet_point_africa_west
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_east
		}
		change_variable = {
			name = ist_var_puppet_point_africa_east
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_middle_east
		}
		change_variable = {
			name = ist_var_puppet_point_middle_east
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_north
		}
		change_variable = {
			name = ist_var_puppet_point_asia_north
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_india
		}
		change_variable = {
			name = ist_var_puppet_point_asia_india
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_east
		}
		change_variable = {
			name = ist_var_puppet_point_asia_east
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_china
		}
		change_variable = {
			name = ist_var_puppet_point_asia_china
			add = -10
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_south
		}
		change_variable = {
			name = ist_var_puppet_point_asia_south
			add = -10
		}
	}
	else = {
		limit = {
			has_global_variable = ist_global_var_table_oceania_oceania
		}
		change_variable = {
			name = ist_var_puppet_point_oceania_oceania
			add = -10
		}
	}
}

# 영향권 갬블 - 환불
ist_puppet_table_refund = {
	if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_west
		}
		change_variable = {
			name = ist_var_puppet_point_europe_west
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_europe_east
		}
		change_variable = {
			name = ist_var_puppet_point_europe_east
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_north
		}
		change_variable = {
			name = ist_var_puppet_point_america_north
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_mid
		}
		change_variable = {
			name = ist_var_puppet_point_america_mid
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_america_south
		}
		change_variable = {
			name = ist_var_puppet_point_america_south
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_north
		}
		change_variable = {
			name = ist_var_puppet_point_africa_north
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_west
		}
		change_variable = {
			name = ist_var_puppet_point_africa_west
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_africa_east
		}
		change_variable = {
			name = ist_var_puppet_point_africa_east
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_middle_east
		}
		change_variable = {
			name = ist_var_puppet_point_middle_east
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_north
		}
		change_variable = {
			name = ist_var_puppet_point_asia_north
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_india
		}
		change_variable = {
			name = ist_var_puppet_point_asia_india
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_east
		}
		change_variable = {
			name = ist_var_puppet_point_asia_east
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_china
		}
		change_variable = {
			name = ist_var_puppet_point_asia_china
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else_if = {
		limit = {
			has_global_variable = ist_global_var_table_asia_south
		}
		change_variable = {
			name = ist_var_puppet_point_asia_south
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
	else = {
		limit = {
			has_global_variable = ist_global_var_table_oceania_oceania
		}
		change_variable = {
			name = ist_var_puppet_point_oceania_oceania
			add = ist_modern_puppet_event_table_refund_cost
		}
	}
}


# 영향권 놀이 - 철도(지만 다른것에도 유니버셜하게 써먹을 수 있는)
ist_puppet_scoring_dip_railway = {
	##
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_europe_west = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_europe_west
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_europe_east = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_europe_east
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_america_north = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_america_north
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_america_mid = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_america_mid
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_america_south = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_america_south
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_africa_north = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_africa_north
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_africa_west = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_africa_west
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_africa_east = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_africa_east
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_middle_east = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_middle_east
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_asia_north = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_asia_north
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_asia_india = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_asia_india
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_asia_east = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_asia_east
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_asia_china = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_asia_china
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_asia_south = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_asia_south
				add = 1
			}
		}
	}
	if = {
		limit = {
			is_subject = no
			ist_trigger_region_oceania_oceania = yes
		}
		scope:target_country = {	#영향권 점수 부여
			change_variable = {
				name = ist_var_puppet_point_oceania_oceania
				add = 1
			}
		}
	}
}


# 철도부설권 중복체크 및 모디파이어 부여 코드

ist_add_modifier_rail_down = {
	if = {
		limit = {
			scope:target_country = {
				any_primary_culture = {
					has_discrimination_trait = anglophone
				}	
			}
		}
		if = {
			limit = {
				scope:target_country = {
					any_primary_culture = {
						OR = {
							THIS = cu:dixie
							THIS = cu:yankee
							THIS = cu:afro_american
						}
					}	
				}
			}
			add_modifier = {	#외국계 철도회사 운영됨
				name = ist_modern_railway_cost_usa
				months = 1
			}
		}
		else = {
			add_modifier = {	#외국계 철도회사 운영됨
				name = ist_modern_railway_cost_gbr
				months = 1
			}
		}
	}
	else_if = {
		limit = {
			scope:target_country = {
				any_primary_culture = {
					has_discrimination_trait = francophone
				}	
			}
		}
		add_modifier = {	#외국계 철도회사 운영됨
			name = ist_modern_railway_cost_fra
			months = 1
		}		
	}
	#else_if = {
	#	limit = {
	#		scope:target_country = c:PRU
	#	}
	#	add_modifier = {	#외국계 철도회사 운영됨
	#		name = ist_modern_railway_cost_pru
	#		months = 1
	#	}		
	#}
	#else_if = {
	#	limit = {
	#		scope:target_country = c:AUS
	#	}
	#	add_modifier = {	#외국계 철도회사 운영됨
	#		name = ist_modern_railway_cost_aus
	#		months = 1
	#	}		
	#}
	else_if = {
		limit = {
			scope:target_country = {
				any_primary_culture = {
					has_discrimination_trait = german_speaking
				}	
			}
		}
		add_modifier = {	#외국계 철도회사 운영됨
			name = ist_modern_railway_cost_ger
			months = 1
		}		
	}
	else_if = {
		limit = {
			scope:target_country = {
				any_primary_culture = {
					has_discrimination_trait = east_slavic
				}	
			}
		}
		add_modifier = {	#외국계 철도회사 운영됨
			name = ist_modern_railway_cost_rus
			months = 1
		}		
	}
	else_if = {
		limit = {
			scope:target_country = {
				any_primary_culture = {
					has_discrimination_trait = turkic
				}	
			}
		}
		add_modifier = {	#외국계 철도회사 운영됨
			name = ist_modern_railway_cost_tur
			months = 1
		}		
	}
	#else_if = {
	#	limit = {
	#		scope:target_country = {
	#			any_primary_culture = {
	#				has_discrimination_trait = anglophone
	#			}	
	#		}
	#	}
	#	add_modifier = {	#외국계 철도회사 운영됨
	#		name = ist_modern_railway_cost_usa
	#		months = 1
	#	}		
	#}
	else = {
		add_modifier = {	#외국계 철도회사 운영됨
			name = ist_modern_railway_cost
			months = 1
		}		
	}	
}

ist_add_modifier_rail_up = {	#이제 이거 안필요할거같아!!!
	if = {	#이하는 모디파이어가 최대 5개까지만 중첩될 수 있도록 억제하는 조건문 코드 입니다.
		limit = {
			scope:target_country = {	#상대국이 철도수주권을 따낸 적이 없다면
				var:ist_var_rail_slot = 1
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_profit1
			remove_modifier = ist_modern_railway_profit2
			remove_modifier = ist_modern_railway_profit3
			remove_modifier = ist_modern_railway_profit4
			remove_modifier = ist_modern_railway_profit5
			add_modifier = {	#운영 수익
				name = ist_modern_railway_profit1
				months = 1
			}
		}
	}
	else_if = {	
		limit = {
			scope:target_country = {
				var:ist_var_rail_slot = 2
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_profit1
			remove_modifier = ist_modern_railway_profit2
			remove_modifier = ist_modern_railway_profit3
			remove_modifier = ist_modern_railway_profit4
			remove_modifier = ist_modern_railway_profit5
			add_modifier = {	#운영 수익
				name = ist_modern_railway_profit2
				months = 1
			}
		}
	}
	else_if = {	
		limit = {
			scope:target_country = {
				var:ist_var_rail_slot = 3
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_profit1
			remove_modifier = ist_modern_railway_profit2
			remove_modifier = ist_modern_railway_profit3
			remove_modifier = ist_modern_railway_profit4
			remove_modifier = ist_modern_railway_profit5
			add_modifier = {	#운영 수익
				name = ist_modern_railway_profit3
				months = 1
			}
		}
	}
	else_if = {	
		limit = {
			scope:target_country = {
				var:ist_var_rail_slot = 4
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_profit1
			remove_modifier = ist_modern_railway_profit2
			remove_modifier = ist_modern_railway_profit3
			remove_modifier = ist_modern_railway_profit4
			remove_modifier = ist_modern_railway_profit5
			add_modifier = {	#운영 수익
				name = ist_modern_railway_profit4
				months = 1
			}
		}
	}
	else_if = {	
		limit = {
			scope:target_country = {
				var:ist_var_rail_slot >= 5
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_profit1
			remove_modifier = ist_modern_railway_profit2
			remove_modifier = ist_modern_railway_profit3
			remove_modifier = ist_modern_railway_profit4
			remove_modifier = ist_modern_railway_profit5
			add_modifier = {	#운영 수익
				name = ist_modern_railway_profit5
				months = 1
			}
		}
	}
}

ist_add_modifier_rail_toomany = {	#사업계약서를 주렁주렁 달고있을때 받는 일말의 양심. 이것도 안필요할거같아!!!
	if = {	#이하는 모디파이어가 최대 5개까지만 중첩될 수 있도록 억제하는 조건문 코드 입니다.
		limit = {
			scope:target_country = {	#10개 이상의 나라와 계약중일시
				var:ist_var_rail_slot >= 10
				var:ist_var_rail_slot < 20
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_toomany1
			remove_modifier = ist_modern_railway_toomany2
			remove_modifier = ist_modern_railway_toomany3
			remove_modifier = ist_modern_railway_toomany4
			remove_modifier = ist_modern_railway_toomany5
			add_modifier = {	#양심
				name = ist_modern_railway_toomany1
				months = 1
			}
		}
	}
	else_if = {	
		limit = {
			scope:target_country = {
				var:ist_var_rail_slot >= 20
				var:ist_var_rail_slot < 30
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_toomany1
			remove_modifier = ist_modern_railway_toomany2
			remove_modifier = ist_modern_railway_toomany3
			remove_modifier = ist_modern_railway_toomany4
			remove_modifier = ist_modern_railway_toomany5
			add_modifier = {	#양심
				name = ist_modern_railway_toomany2
				months = 1
			}
		}
	}
	else_if = {	
		limit = {
			scope:target_country = {
				var:ist_var_rail_slot >= 30
				var:ist_var_rail_slot < 40
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_toomany1
			remove_modifier = ist_modern_railway_toomany2
			remove_modifier = ist_modern_railway_toomany3
			remove_modifier = ist_modern_railway_toomany4
			remove_modifier = ist_modern_railway_toomany5
			add_modifier = {	#양심
				name = ist_modern_railway_toomany3
				months = 1
			}
		}
	}
	else_if = {	
		limit = {
			scope:target_country = {
				var:ist_var_rail_slot >= 40
				var:ist_var_rail_slot < 50
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_toomany1
			remove_modifier = ist_modern_railway_toomany2
			remove_modifier = ist_modern_railway_toomany3
			remove_modifier = ist_modern_railway_toomany4
			remove_modifier = ist_modern_railway_toomany5
			add_modifier = {	#양심
				name = ist_modern_railway_toomany4
				months = 1
			}
		}
	}
	else_if = {	
		limit = {
			scope:target_country = {
				var:ist_var_rail_slot >= 50
			}
		}
		scope:target_country = {	#모디파이어 부여.
			remove_modifier = ist_modern_railway_toomany1
			remove_modifier = ist_modern_railway_toomany2
			remove_modifier = ist_modern_railway_toomany3
			remove_modifier = ist_modern_railway_toomany4
			remove_modifier = ist_modern_railway_toomany5
			add_modifier = {	#양심
				name = ist_modern_railway_toomany5
				months = 1
			}
		}
	}
}

ist_contract_forest_port_check = {
	if = {
		limit = {
			scope:ist_forest_up_country = {
				is_player = no
				NOT = {
					any_scope_state = {	#아무주에
						any_scope_building = {
							is_building_type = building_exploit_port_wood
							level >= 1
						}
					}
				}
			}
		}
        random_state = {	#아무 주에나
            limit = {
				owner = scope:ist_forest_up_country	#단 이 이벤트가 뜬 사람이 주인인 주 중에서
				is_incorporated = yes #핵심주에다가
				is_coastal = yes
			}
			create_building = { 
				building = building_exploit_port_wood
				level = 1
			}
		}		
	}
}

ist_contract_forest = {
	if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 15
				}				
			}		
		}
		change_variable = {
			name = ist_var_forest_slot
			add = 1
		}		
		add_treasury = 2500000
		add_modifier = {	#bond
			name = ist_modern_forest_state_down_credit5
			months = 120
		}		
		scope:ist_forest_up_country = {
			add_treasury = -2500000
			add_modifier = {	#bond
				name = ist_modern_forest_state_up_credit5
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 15
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 10
				}				
			}		
		}
		change_variable = {
			name = ist_var_forest_slot
			add = 1
		}		
		add_treasury = 1800000
		add_modifier = {	#bond
			name = ist_modern_forest_state_down_credit4
			months = 120
		}		
		scope:ist_forest_up_country = {
			add_treasury = -1800000
			add_modifier = {	#bond
				name = ist_modern_forest_state_up_credit4
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 10
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 6
				}				
			}		
		}
		change_variable = {
			name = ist_var_forest_slot
			add = 1
		}		
		add_treasury = 1200000
		add_modifier = {	#bond
			name = ist_modern_forest_state_down_credit3
			months = 120
		}		
		scope:ist_forest_up_country = {
			add_treasury = -1200000
			add_modifier = {	#bond
				name = ist_modern_forest_state_up_credit3
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 6
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_forest_slot
			add = 1
		}		
		add_treasury = 700000
		add_modifier = {	#bond
			name = ist_modern_forest_state_down_credit2
			months = 120
		}		
		scope:ist_forest_up_country = {
			add_treasury = -700000
			add_modifier = {	#bond
				name = ist_modern_forest_state_up_credit2
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_forest_slot
			add = 1
		}		
		add_treasury = 300000
		add_modifier = {	#bond
			name = ist_modern_forest_state_down_credit1
			months = 120
		}		
		scope:ist_forest_up_country = {
			add_treasury = -300000
			add_modifier = {	#bond
				name = ist_modern_forest_state_up_credit1
				months = 120
			}			
		}
	}
	
}

ist_contract_forest_timer = {
	if = {
		limit = {
			NOT = { has_variable = ist_var_forest_token1 }
		}
		set_variable = {
			name = ist_var_forest_token1
			months = 120
		}
		save_scope_as = ist_forest_cont_country1
		scope:ist_forest_up_country = {
			trigger_event = {
				id = ist_modern_events.9
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_forest_token2 }
		}
		set_variable = {
			name = ist_var_forest_token2
			months = 120
		}
		save_scope_as = ist_forest_cont_country2
		scope:ist_forest_up_country = {
			trigger_event = {
				id = ist_modern_events.10
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_forest_token3 }
		}
		set_variable = {
			name = ist_var_forest_token3
			months = 120
		}
		save_scope_as = ist_forest_cont_country3
		scope:ist_forest_up_country = {
			trigger_event = {
				id = ist_modern_events.11
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_forest_token4 }
		}
		set_variable = {
			name = ist_var_forest_token4
			months = 120
		}
		save_scope_as = ist_forest_cont_country4
		scope:ist_forest_up_country = {
			trigger_event = {
				id = ist_modern_events.12
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_forest_token5 }
		}
		set_variable = {
			name = ist_var_forest_token5
			months = 120
		}
		save_scope_as = ist_forest_cont_country5
		scope:ist_forest_up_country = {
			trigger_event = {
				id = ist_modern_events.13
				months = 120
			}			
		}
	}	
}

ist_add_modifier_forest_state = {
	if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 15
				}				
			}		
		}

		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 15
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}			
		}
		
		scope:ist_forest_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit5
						months = 12
					}
				}			
			}
			save_scope_as = ist_forest_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 15
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 10
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 15
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 10
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}			
		}
		scope:ist_forest_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit4
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 10
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 6
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 10
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 6
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}			
		}
		scope:ist_forest_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit3
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 6
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 3
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 6
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 3
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}			
		}
		scope:ist_forest_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit2
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 3
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 1
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 3
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 1
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}			
		}
		scope:ist_forest_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit1
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}		
}

ist_add_modifier_forest_state_repeat = {
	if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 25
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 25
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}
			save_scope_as = ist_wood_develop_state	#투자확대
		}
		
		scope:ist_forest_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit7
						months = 12
					}
				}			
			}
			save_scope_as = ist_forest_repeat_country
			random_list = {
				6 = {
					trigger_event = {
						id = ist_modern_events.804
						days = { 1 123 }
					}
				}
				94 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 25
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 20
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 25
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 20
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}
			save_scope_as = ist_wood_develop_state	#투자확대			
		}
		
		scope:ist_forest_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit6
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
			random_list = {
				6 = {
					trigger_event = {
						id = ist_modern_events.804
						days = { 1 123 }
					}
				}
				94 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 20
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 15
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 20
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 15
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}
			save_scope_as = ist_wood_develop_state	#투자확대
		}
		
		scope:ist_forest_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit5
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
			random_list = {
				6 = {
					trigger_event = {
						id = ist_modern_events.804
						days = { 1 123 }
					}
				}
				94 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 15
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 10
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 15
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 10
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}	
			save_scope_as = ist_wood_develop_state	#투자확대
		}
		scope:ist_forest_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit4
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
			random_list = {
				6 = {
					trigger_event = {
						id = ist_modern_events.804
						days = { 1 123 }
					}
				}
				94 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 10
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 6
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 10
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 6
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}	
			save_scope_as = ist_wood_develop_state	#투자확대
		}
		scope:ist_forest_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit3
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
			random_list = {
				6 = {
					trigger_event = {
						id = ist_modern_events.804
						days = { 1 123 }
					}
				}
				94 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 6
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 3
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 6
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 3
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}
			save_scope_as = ist_wood_develop_state	#투자확대
		}
		scope:ist_forest_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit2
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
			random_list = {
				6 = {
					trigger_event = {
						id = ist_modern_events.804
						days = { 1 123 }
					}
				}
				94 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 3
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 1
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_forest_down_country
				has_building = building_logging_camp	#당연히 소유한 주 중 한곳이상에 벌목장이 있기는 해야겠지요?
				NOT = { has_modifier = ist_modern_forest_state }
				NOT = { has_modifier = ist_modern_forest_state_absolute }
				any_scope_building = {
					is_building_type = building_logging_camp
					level < 3
				}
				any_scope_building = {
					is_building_type = building_logging_camp
					level >= 1
				}				
			}
			add_modifier = {
				name = ist_modern_forest_state
				months = 12
			}
			save_scope_as = ist_wood_develop_state	#투자확대
		}
		scope:ist_forest_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_wood
						level >= 1
					}
					add_modifier = {
						name = ist_modern_forest_port_profit1
						months = 12
					}
				}			
			}			
			save_scope_as = ist_forest_repeat_country
			random_list = {
				6 = {
					trigger_event = {
						id = ist_modern_events.804
						days = { 1 123 }
					}
				}
				94 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}
	else = {
		#ist_forest_state_timer = yes	
		scope:ist_forest_repeat_country = {			
			save_scope_as = ist_forest_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.15
			days = 365
		}
	}	
}

#####

ist_contract_mining_timer = {
	if = {
		limit = {
			NOT = { has_variable = ist_var_mining_token1 }
		}
		set_variable = {
			name = ist_var_mining_token1
			months = 120
		}
		save_scope_as = ist_mining_cont_country1
		scope:ist_mining_up_country = {
			trigger_event = {
				id = ist_modern_events.20
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_mining_token2 }
		}
		set_variable = {
			name = ist_var_mining_token2
			months = 120
		}
		save_scope_as = ist_mining_cont_country2
		scope:ist_mining_up_country = {
			trigger_event = {
				id = ist_modern_events.21
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_mining_token3 }
		}
		set_variable = {
			name = ist_var_mining_token3
			months = 120
		}
		save_scope_as = ist_mining_cont_country3
		scope:ist_mining_up_country = {
			trigger_event = {
				id = ist_modern_events.22
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_mining_token4 }
		}
		set_variable = {
			name = ist_var_mining_token4
			months = 120
		}
		save_scope_as = ist_mining_cont_country4
		scope:ist_mining_up_country = {
			trigger_event = {
				id = ist_modern_events.23
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_mining_token5 }
		}
		set_variable = {
			name = ist_var_mining_token5
			months = 120
		}
		save_scope_as = ist_mining_cont_country5
		scope:ist_mining_up_country = {
			trigger_event = {
				id = ist_modern_events.24
				months = 120
			}			
		}
	}	
}

ist_contract_mining_coal = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 15
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 2500000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit5
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -2500000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit5
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 10
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 1800000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit4
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -1800000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit4
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 6
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 1200000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit3
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -1200000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit3
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 700000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit2
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -700000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit2
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 300000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit1
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -300000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit1
				months = 120
			}			
		}
	}
}

ist_add_modifier_mining_state_repeat_coal = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 25
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 25
				}				
			}
			add_modifier = {
				name = ist_modern_mining_coal_state
				months = 12
			}
			save_scope_as = ist_coal_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					add_modifier = {
						name = ist_modern_coal_port_profit7
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.800
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.26
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 25
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 20
				}		
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 25
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 20
				}		
			}
			add_modifier = {
				name = ist_modern_mining_coal_state
				months = 12
			}
			save_scope_as = ist_coal_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					add_modifier = {
						name = ist_modern_coal_port_profit6
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.800
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.26
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 20
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 15
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 20
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 15
				}			
			}
			add_modifier = {
				name = ist_modern_mining_coal_state
				months = 12
			}
			save_scope_as = ist_coal_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					add_modifier = {
						name = ist_modern_coal_port_profit5
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.800
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.26
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 10
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 10
				}				
			}
			add_modifier = {
				name = ist_modern_mining_coal_state
				months = 12
			}
			save_scope_as = ist_coal_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					add_modifier = {
						name = ist_modern_coal_port_profit4
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.800
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.26
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 6
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 6
				}				
			}
			add_modifier = {
				name = ist_modern_mining_coal_state
				months = 12
			}
			save_scope_as = ist_coal_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					add_modifier = {
						name = ist_modern_coal_port_profit3
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.800
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.26
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 3
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 3
				}				
			}
			add_modifier = {
				name = ist_modern_mining_coal_state
				months = 12
			}
			save_scope_as = ist_coal_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					add_modifier = {
						name = ist_modern_coal_port_profit2
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.800
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.26
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 3
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 1
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_coal_mine
				NOT = { has_modifier = ist_modern_mining_coal_state }
				NOT = { has_modifier = ist_modern_mining_coal_state_absolute }
				any_scope_building = {
					is_building_type = building_coal_mine
					level < 3
				}
				any_scope_building = {
					is_building_type = building_coal_mine
					level >= 1
				}				
			}
			add_modifier = {
				name = ist_modern_mining_coal_state
				months = 12
			}
			save_scope_as = ist_coal_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_coal
						level >= 1
					}
					add_modifier = {
						name = ist_modern_coal_port_profit1
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.800
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.26
			days = 365
		}
	}
	else = {
		#ist_forest_state_timer = yes	
		scope:ist_mining_up_country = {			
			save_scope_as = ist_mining_up_country
		}
		trigger_event = {
			id = ist_modern_events.26
			days = 365
		}
	}	
}
##
ist_contract_mining_iron = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 15
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 2500000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit5
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -2500000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit5
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 10
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 1800000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit4
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -1800000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit4
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 6
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 1200000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit3
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -1200000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit3
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 700000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit2
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -700000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit2
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 300000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit1
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -300000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit1
				months = 120
			}			
		}
	}
}

ist_add_modifier_mining_state_repeat_iron = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 25
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 25
				}				
			}
			add_modifier = {
				name = ist_modern_mining_iron_state
				months = 12
			}
			save_scope_as = ist_iron_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					add_modifier = {
						name = ist_modern_iron_port_profit7
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.801
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.27
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 25
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 20
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 25
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 20
				}				
			}
			add_modifier = {
				name = ist_modern_mining_iron_state
				months = 12
			}
			save_scope_as = ist_iron_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					add_modifier = {
						name = ist_modern_iron_port_profit6
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.801
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.27
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 20
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 15
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 20
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 15
				}				
			}
			add_modifier = {
				name = ist_modern_mining_iron_state
				months = 12
			}
			save_scope_as = ist_iron_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					add_modifier = {
						name = ist_modern_iron_port_profit5
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.801
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.27
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 10
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 10
				}				
			}
			add_modifier = {
				name = ist_modern_mining_iron_state
				months = 12
			}
			save_scope_as = ist_iron_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					add_modifier = {
						name = ist_modern_iron_port_profit4
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.801
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.27
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 6
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 6
				}				
			}
			add_modifier = {
				name = ist_modern_mining_iron_state
				months = 12
			}
			save_scope_as = ist_iron_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					add_modifier = {
						name = ist_modern_iron_port_profit3
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.801
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.27
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 3
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 3
				}				
			}
			add_modifier = {
				name = ist_modern_mining_iron_state
				months = 12
			}
			save_scope_as = ist_iron_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					add_modifier = {
						name = ist_modern_iron_port_profit2
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.801
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.27
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 3
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 1
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_iron_mine
				NOT = { has_modifier = ist_modern_mining_iron_state }
				NOT = { has_modifier = ist_modern_mining_iron_state_absolute }
				any_scope_building = {
					is_building_type = building_iron_mine
					level < 3
				}
				any_scope_building = {
					is_building_type = building_iron_mine
					level >= 1
				}				
			}
			add_modifier = {
				name = ist_modern_mining_iron_state
				months = 12
			}
			save_scope_as = ist_iron_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_iron
						level >= 1
					}
					add_modifier = {
						name = ist_modern_iron_port_profit1
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.801
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.27
			days = 365
		}
	}
	else = {
		#ist_forest_state_timer = yes	
		scope:ist_mining_up_country = {			
			save_scope_as = ist_mining_up_country
		}
		trigger_event = {
			id = ist_modern_events.27
			days = 365
		}
	}	
}
##
ist_contract_mining_sulfur = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 15
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 2500000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit5
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -2500000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit5
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 10
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 1800000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit4
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -1800000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit4
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 6
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 1200000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit3
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -1200000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit3
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 700000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit2
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -700000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit2
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 300000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit1
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -300000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit1
				months = 120
			}			
		}
	}
}

ist_add_modifier_mining_state_repeat_sulfur = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 25
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 25
				}				
			}
			add_modifier = {
				name = ist_modern_mining_sulfur_state
				months = 12
			}
			save_scope_as = ist_sulfur_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					add_modifier = {
						name = ist_modern_sulfur_port_profit7
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.802
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.28
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 25
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 20
				}	
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 25
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 20
				}	
			}
			add_modifier = {
				name = ist_modern_mining_sulfur_state
				months = 12
			}
			save_scope_as = ist_sulfur_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					add_modifier = {
						name = ist_modern_sulfur_port_profit6
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.802
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.28
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 20
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 15
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 20
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 15
				}			
			}
			add_modifier = {
				name = ist_modern_mining_sulfur_state
				months = 12
			}
			save_scope_as = ist_sulfur_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					add_modifier = {
						name = ist_modern_sulfur_port_profit5
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.802
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.28
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 10
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 15
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 10
				}				
			}
			add_modifier = {
				name = ist_modern_mining_sulfur_state
				months = 12
			}
			save_scope_as = ist_sulfur_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					add_modifier = {
						name = ist_modern_sulfur_port_profit4
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.802
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.28
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 6
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 10
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 6
				}				
			}
			add_modifier = {
				name = ist_modern_mining_sulfur_state
				months = 12
			}
			save_scope_as = ist_sulfur_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					add_modifier = {
						name = ist_modern_sulfur_port_profit3
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.802
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.28
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 3
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 6
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 3
				}				
			}
			add_modifier = {
				name = ist_modern_mining_sulfur_state
				months = 12
			}
			save_scope_as = ist_sulfur_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					add_modifier = {
						name = ist_modern_sulfur_port_profit2
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.802
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.28
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 3
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 1
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_sulfur_mine
				NOT = { has_modifier = ist_modern_mining_sulfur_state }
				NOT = { has_modifier = ist_modern_mining_sulfur_state_absolute }
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level < 3
				}
				any_scope_building = {
					is_building_type = building_sulfur_mine
					level >= 1
				}				
			}
			add_modifier = {
				name = ist_modern_mining_sulfur_state
				months = 12
			}
			save_scope_as = ist_sulfur_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_sulfur
						level >= 1
					}
					add_modifier = {
						name = ist_modern_sulfur_port_profit1
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.802
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.28
			days = 365
		}
	}
	else = {
		#ist_forest_state_timer = yes	
		scope:ist_mining_up_country = {			
			save_scope_as = ist_mining_up_country
		}
		trigger_event = {
			id = ist_modern_events.28
			days = 365
		}
	}	
}
##
ist_contract_mining_gold = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 9
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 2500000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit5
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -2500000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit5
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 9
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 7
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 1800000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit4
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -1800000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit4
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 7
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 5
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 1200000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit3
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -1200000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit3
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 5
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 700000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit2
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -700000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit2
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 3
				}				
			}		
		}
		change_variable = {
			name = ist_var_mining_slot
			add = 1
		}		
		add_treasury = 300000
		add_modifier = {	#bond
			name = ist_modern_mining_state_down_credit1
			months = 120
		}		
		scope:ist_mining_up_country = {
			add_treasury = -300000
			add_modifier = {	#bond
				name = ist_modern_mining_state_up_credit1
				months = 120
			}			
		}
	}
}

ist_add_modifier_mining_state_repeat_gold = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 13
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 13
				}				
			}
			add_modifier = {
				name = ist_modern_mining_gold_state
				months = 12
			}
			save_scope_as = ist_gold_develop_state	#투자확대			
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					add_modifier = {
						name = ist_modern_gold_port_profit7
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.803
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.29
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 13
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 11
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 13
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 11
				}				
			}
			add_modifier = {
				name = ist_modern_mining_gold_state
				months = 12
			}
			save_scope_as = ist_gold_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					add_modifier = {
						name = ist_modern_gold_port_profit6
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.803
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.29
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 11
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 9
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 11
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 9
				}			
			}
			add_modifier = {
				name = ist_modern_mining_gold_state
				months = 12
			}
			save_scope_as = ist_gold_develop_state	#투자확대
		}
		
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					add_modifier = {
						name = ist_modern_gold_port_profit5
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.803
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.29
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 9
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 7
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 9
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 7
				}				
			}
			add_modifier = {
				name = ist_modern_mining_gold_state
				months = 12
			}
			save_scope_as = ist_gold_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					add_modifier = {
						name = ist_modern_gold_port_profit4
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.803
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.29
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 7
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 5
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 7
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 5
				}				
			}
			add_modifier = {
				name = ist_modern_mining_gold_state
				months = 12
			}
			save_scope_as = ist_gold_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					add_modifier = {
						name = ist_modern_gold_port_profit3
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.803
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.29
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 5
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 3
				}				
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 5
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 3
				}				
			}
			add_modifier = {
				name = ist_modern_mining_gold_state
				months = 12
			}
			save_scope_as = ist_gold_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					add_modifier = {
						name = ist_modern_gold_port_profit2
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.803
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.29
			days = 365
		}
	}
	else_if = {
		limit = {
			any_scope_state = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 3
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 1
				}			
			}		
		}
		#ist_forest_state_timer = yes	
		random_scope_state = {
			limit = {
				has_building = building_gold_mine
				NOT = { has_modifier = ist_modern_mining_gold_state }
				NOT = { has_modifier = ist_modern_mining_gold_state_absolute }
				any_scope_building = {
					is_building_type = building_gold_mine
					level < 3
				}
				any_scope_building = {
					is_building_type = building_gold_mine
					level >= 1
				}				
			}
			add_modifier = {
				name = ist_modern_mining_gold_state
				months = 12
			}
			save_scope_as = ist_gold_develop_state	#투자확대
		}
		scope:ist_mining_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_gold
						level >= 1
					}
					add_modifier = {
						name = ist_modern_gold_port_profit1
						months = 12
					}
				}			
			}			
			save_scope_as = ist_mining_up_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.803
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.29
			days = 365
		}
	}
	else = {
		#ist_forest_state_timer = yes	
		scope:ist_mining_up_country = {			
			save_scope_as = ist_mining_up_country
		}
		trigger_event = {
			id = ist_modern_events.29
			days = 365
		}
	}	
}
##
ist_contract_mining_coal_port_check = {
	if = {
		limit = {
			scope:ist_mining_up_country = {
				is_player = no
				NOT = {
					any_scope_state = {	#아무주에
						any_scope_building = {
							is_building_type = building_exploit_port_coal
							level >= 1
						}
					}
				}
			}
		}
        random_state = {	#아무 주에나
            limit = {
				owner = scope:ist_mining_up_country	#단 이 이벤트가 뜬 사람이 주인인 주 중에서
				is_incorporated = yes #핵심주에다가
				is_coastal = yes
			}
			create_building = { 
				building = building_exploit_port_coal
				level = 1
			}
		}		
	}
}
ist_contract_mining_iron_port_check = {
	if = {
		limit = {
			scope:ist_mining_up_country = {
				is_player = no
				NOT = {
					any_scope_state = {	#아무주에
						any_scope_building = {
							is_building_type = building_exploit_port_iron
							level >= 1
						}
					}
				}
			}
		}
        random_state = {	#아무 주에나
            limit = {
				owner = scope:ist_mining_up_country	#단 이 이벤트가 뜬 사람이 주인인 주 중에서
				is_incorporated = yes #핵심주에다가
				is_coastal = yes
			}
			create_building = { 
				building = building_exploit_port_iron
				level = 1
			}
		}		
	}
}
ist_contract_mining_sulfur_port_check = {
	if = {
		limit = {
			scope:ist_mining_up_country = {
				is_player = no
				NOT = {
					any_scope_state = {	#아무주에
						any_scope_building = {
							is_building_type = building_exploit_port_sulfur
							level >= 1
						}
					}
				}
			}
		}
        random_state = {	#아무 주에나
            limit = {
				owner = scope:ist_mining_up_country	#단 이 이벤트가 뜬 사람이 주인인 주 중에서
				is_incorporated = yes #핵심주에다가
				is_coastal = yes
			}
			create_building = { 
				building = building_exploit_port_sulfur
				level = 1
			}
		}		
	}
}
ist_contract_mining_gold_port_check = {
	if = {
		limit = {
			scope:ist_mining_up_country = {
				is_player = no
				NOT = {
					any_scope_state = {	#아무주에
						any_scope_building = {
							is_building_type = building_exploit_port_gold
							level >= 1
						}
					}
				}
			}
		}
        random_state = {	#아무 주에나
            limit = {
				owner = scope:ist_mining_up_country	#단 이 이벤트가 뜬 사람이 주인인 주 중에서
				is_incorporated = yes #핵심주에다가
				is_coastal = yes
			}
			create_building = { 
				building = building_exploit_port_gold
				level = 1
			}
		}		
	}
}
#####
ist_contract_fishing_port_check = {
	if = {
		limit = {
			scope:ist_fishing_up_country = {
				is_player = no
				NOT = {
					any_scope_state = {	#아무주에
						any_scope_building = {
							is_building_type = building_exploit_port_fish
							level >= 1
						}
					}
				}
			}
		}
        random_state = {	#아무 주에나
            limit = {
				owner = scope:ist_fishing_up_country	#단 이 이벤트가 뜬 사람이 주인인 주 중에서
				is_incorporated = yes #핵심주에다가
				is_coastal = yes
			}
			create_building = { 
				building = building_exploit_port_fish
				level = 1
			}
		}		
	}
}

ist_contract_fishing = {
	if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count >= 15
			}		
		}
		change_variable = {
			name = ist_var_fishing_slot
			add = 1
		}	
		add_treasury = 2500000
		add_modifier = {	#bond
			name = ist_modern_fishing_state_down_credit5
			months = 120
		}		
		scope:ist_fishing_up_country = {
			add_treasury = -2500000
			add_modifier = {	#bond
				name = ist_modern_fishing_state_up_credit5
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 15
				ist_modern_building_fish_whale_count >= 10
			}		
		}
		change_variable = {
			name = ist_var_fishing_slot
			add = 1
		}		
		add_treasury = 1800000
		add_modifier = {	#bond
			name = ist_modern_fishing_state_down_credit4
			months = 120
		}		
		scope:ist_fishing_up_country = {
			add_treasury = -1800000
			add_modifier = {	#bond
				name = ist_modern_fishing_state_up_credit4
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 10
				ist_modern_building_fish_whale_count >= 6			
			}		
		}
		change_variable = {
			name = ist_var_fishing_slot
			add = 1
		}		
		add_treasury = 1200000
		add_modifier = {	#bond
			name = ist_modern_fishing_state_down_credit3
			months = 120
		}		
		scope:ist_fishing_up_country = {
			add_treasury = -1200000
			add_modifier = {	#bond
				name = ist_modern_fishing_state_up_credit3
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 6
				ist_modern_building_fish_whale_count >= 3				
			}		
		}
		change_variable = {
			name = ist_var_fishing_slot
			add = 1
		}		
		add_treasury = 700000
		add_modifier = {	#bond
			name = ist_modern_fishing_state_down_credit2
			months = 120
		}		
		scope:ist_fishing_up_country = {
			add_treasury = -700000
			add_modifier = {	#bond
				name = ist_modern_fishing_state_up_credit2
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 3				
			}		
		}
		change_variable = {
			name = ist_var_fishing_slot
			add = 1
		}		
		add_treasury = 300000
		add_modifier = {	#bond
			name = ist_modern_fishing_state_down_credit1
			months = 120
		}		
		scope:ist_fishing_up_country = {
			add_treasury = -300000
			add_modifier = {	#bond
				name = ist_modern_fishing_state_up_credit1
				months = 120
			}			
		}
	}
	
}

ist_contract_fishing_timer = {
	if = {
		limit = {
			NOT = { has_variable = ist_var_fishing_token1 }
		}
		set_variable = {
			name = ist_var_fishing_token1
			months = 120
		}
		save_scope_as = ist_fishing_cont_country1
		scope:ist_fishing_up_country = {
			trigger_event = {
				id = ist_modern_events.50
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_fishing_token2 }
		}
		set_variable = {
			name = ist_var_fishing_token2
			months = 120
		}
		save_scope_as = ist_fishing_cont_country2
		scope:ist_fishing_up_country = {
			trigger_event = {
				id = ist_modern_events.51
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_fishing_token3 }
		}
		set_variable = {
			name = ist_var_fishing_token3
			months = 120
		}
		save_scope_as = ist_fishing_cont_country3
		scope:ist_fishing_up_country = {
			trigger_event = {
				id = ist_modern_events.52
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_fishing_token4 }
		}
		set_variable = {
			name = ist_var_fishing_token4
			months = 120
		}
		save_scope_as = ist_fishing_cont_country4
		scope:ist_fishing_up_country = {
			trigger_event = {
				id = ist_modern_events.53
				months = 120
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_fishing_token5 }
		}
		set_variable = {
			name = ist_var_fishing_token5
			months = 120
		}
		save_scope_as = ist_fishing_cont_country5
		scope:ist_fishing_up_country = {
			trigger_event = {
				id = ist_modern_events.54
				months = 120
			}			
		}
	}	
}

ist_add_modifier_fishing_state = {
	if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count >= 15
			}		
		}

		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count >= 15				
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}			
		}
		
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit5
						months = 12
					}
				}
			}
			save_scope_as = ist_fishing_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 15
				ist_modern_building_fish_whale_count >= 10				
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 15
				ist_modern_building_fish_whale_count >= 10				
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}			
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit4
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 10
				ist_modern_building_fish_whale_count >= 6			
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 10
				ist_modern_building_fish_whale_count >= 6				
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}			
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit3
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 6
				ist_modern_building_fish_whale_count >= 3				
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 6
				ist_modern_building_fish_whale_count >= 3			
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}			
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit2
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 3
				ist_modern_building_fish_whale_count >= 1	
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 3
				ist_modern_building_fish_whale_count >= 1
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}			
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit1
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	######## 여기서부터 석유 ########
	if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count >= 15
			}		
		}

		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count >= 15				
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}			
		}
		
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit5
						months = 12
					}
				}
			}
			#save_scope_as = ist_fishing_repeat_country
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 15
				ist_modern_building_oil_count >= 10				
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 15
				ist_modern_building_oil_count >= 10				
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}			
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit4
						months = 12
					}
				}			
			}			
			#save_scope_as = ist_fishing_repeat_country
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 10
				ist_modern_building_oil_count >= 6			
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 10
				ist_modern_building_oil_count >= 6				
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}			
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit3
						months = 12
					}
				}			
			}			
			#save_scope_as = ist_fishing_repeat_country
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 6
				ist_modern_building_oil_count >= 3				
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 6
				ist_modern_building_oil_count >= 3			
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}			
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit2
						months = 12
					}
				}			
			}			
			#save_scope_as = ist_fishing_repeat_country
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 3
				ist_modern_building_oil_count >= 1	
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 3
				ist_modern_building_oil_count >= 1
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}			
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit1
						months = 12
					}
				}			
			}			
			#save_scope_as = ist_fishing_repeat_country
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
}

ist_add_modifier_fishing_state_repeat = {
	if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count >= 25
			}	
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count >= 25
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}
			save_scope_as = ist_fish_develop_state	#투자확대
		}
		
		scope:ist_fishing_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit5
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.805
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 25
				ist_modern_building_fish_whale_count >= 20
			}	
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 25
				ist_modern_building_fish_whale_count >= 20
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}
			save_scope_as = ist_fish_develop_state	#투자확대
		}
		
		scope:ist_fishing_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit5
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.805
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 20
				ist_modern_building_fish_whale_count >= 15
			}	
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 20
				ist_modern_building_fish_whale_count >= 15
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}
			save_scope_as = ist_fish_develop_state	#투자확대
		}
		
		scope:ist_fishing_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit5
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.805
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 15
				ist_modern_building_fish_whale_count >= 10				
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 15
				ist_modern_building_fish_whale_count >= 10			
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}
			save_scope_as = ist_fish_develop_state	#투자확대
		}
		scope:ist_fishing_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit4
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.805
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 10
				ist_modern_building_fish_whale_count >= 6			
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 10
				ist_modern_building_fish_whale_count >= 6			
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}
			save_scope_as = ist_fish_develop_state	#투자확대
		}
		scope:ist_fishing_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit3
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.805
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 6
				ist_modern_building_fish_whale_count >= 3			
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 6
				ist_modern_building_fish_whale_count >= 3				
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}
			save_scope_as = ist_fish_develop_state	#투자확대
		}
		scope:ist_fishing_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit2
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.805
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 3
				ist_modern_building_fish_whale_count >= 1			
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_fishing_wharf	#어촌
					has_building = building_whaling_station	#어촌
				}
				NOT = { has_modifier = ist_modern_fishing_fish_state }
				NOT = { has_modifier = ist_modern_fishing_fish_state_absolute }
				ist_modern_building_fish_whale_count < 3
				ist_modern_building_fish_whale_count >= 1
			}
			add_modifier = {
				name = ist_modern_fishing_fish_state
				months = 12
			}
			save_scope_as = ist_fish_develop_state	#투자확대
		}
		scope:ist_fishing_repeat_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_fish_port_profit1
						months = 12
					}
				}			
			}			
			save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.805
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}
	else = {
		#ist_fishing_state_timer = yes	
		scope:ist_fishing_repeat_country = {			
			save_scope_as = ist_fishing_repeat_country
		}
		trigger_event = {
			id = ist_modern_events.56
			days = 365
		}
	}	
}

ist_add_modifier_oil_state_repeat = {
	######## 여기서부터 석유 ########
	if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count >= 25
			}		
		}

		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count >= 25
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}
			save_scope_as = ist_oil_develop_state	#투자확대
		}
		
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit7
						months = 12
					}
				}
			}
			#save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.806
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 25
				ist_modern_building_oil_count >= 20
			}		
		}

		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 25
				ist_modern_building_oil_count >= 20	
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}
			save_scope_as = ist_oil_develop_state	#투자확대
		}
		
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit6
						months = 12
					}
				}
			}
			#save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.806
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 20
				ist_modern_building_oil_count >= 15
			}		
		}

		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 20
				ist_modern_building_oil_count >= 15				
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}
			save_scope_as = ist_oil_develop_state	#투자확대
		}
		
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit5
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit5
						months = 12
					}
				}
			}
			#save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.806
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 15
				ist_modern_building_oil_count >= 10				
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 15
				ist_modern_building_oil_count >= 10				
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}
			save_scope_as = ist_oil_develop_state	#투자확대
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit4
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit4
						months = 12
					}
				}			
			}			
			#save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.806
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 10
				ist_modern_building_oil_count >= 6			
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 10
				ist_modern_building_oil_count >= 6				
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}
			save_scope_as = ist_oil_develop_state	#투자확대
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit3
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit3
						months = 12
					}
				}			
			}			
			#save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.806
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 6
				ist_modern_building_oil_count >= 3				
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 6
				ist_modern_building_oil_count >= 3			
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}
			save_scope_as = ist_oil_develop_state	#투자확대
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit2
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit2
						months = 12
					}
				}			
			}			
			#save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.806
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	else_if = {
		limit = {
			any_state = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 3
				ist_modern_building_oil_count >= 1	
			}		
		}
		#ist_fishing_state_timer = yes	
		random_state = {
			limit = {
				owner = scope:ist_fishing_down_country
				OR = {
					has_building = building_oil_rig	#석유시추소
					has_building = building_oil_rig	#석유시추소
				}
				NOT = { has_modifier = ist_modern_fishing_oil_state }
				NOT = { has_modifier = ist_modern_fishing_oil_state_absolute }
				ist_modern_building_oil_count < 3
				ist_modern_building_oil_count >= 1
			}
			add_modifier = {
				name = ist_modern_fishing_oil_state
				months = 12
			}
			save_scope_as = ist_oil_develop_state	#투자확대
		}
		scope:ist_fishing_up_country = {
			#add_modifier = {
			#	name = ist_modern_forest_profit1
			#	months = 12
			#}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					is_incorporated = yes #핵심 주 중에서
				}
				random_scope_building = {
					limit = {
						is_building_type = building_exploit_port_fish
						level >= 1
					}
					add_modifier = {
						name = ist_modern_oil_port_profit1
						months = 12
					}
				}			
			}			
			#save_scope_as = ist_fishing_repeat_country
			random_list = {
				5 = {
					trigger_event = {
						id = ist_modern_events.806
						days = { 1 123 }
					}
				}
				95 = {}
			}
		}
		#trigger_event = {
		#	id = ist_modern_events.56
		#	days = 365
		#}
	}
	#else = {
	#	#ist_fishing_state_timer = yes	
	#	scope:ist_fishing_repeat_country = {			
	#		save_scope_as = ist_fishing_repeat_country
	#	}
	#	trigger_event = {
	#		id = ist_modern_events.56
	#		days = 365
	#	}
	#}	
}

#####
ist_add_modifier_electric_down = {
	add_modifier = {	#외국계 전선회사 운영됨
		name = ist_modern_electric_cost
		months = 1
	}
}

#####

ist_contract_credit = {
	if = {
		limit = {	#gdp 3천만 이상
			this.gdp >= 30000000
		}
		change_variable = {
			name = ist_var_credit_slot
			add = 1
		}		
		add_treasury = 3000000
		add_modifier = {	#bond
			name = ist_modern_credit_state_down_credit6
			months = 60
		}		
		scope:ist_credit_up_country = {
			add_treasury = -3000000
			add_modifier = {	#bond
				name = ist_modern_credit_state_up_credit6
				months = 60
			}			
		}
	}
	else_if = {
		limit = {
			this.gdp < 30000000
			this.gdp >= 20000000
		}
		change_variable = {
			name = ist_var_credit_slot
			add = 1
		}		
		add_treasury = 2500000
		add_modifier = {	#bond
			name = ist_modern_credit_state_down_credit5
			months = 60
		}		
		scope:ist_credit_up_country = {
			add_treasury = -2500000
			add_modifier = {	#bond
				name = ist_modern_credit_state_up_credit5
				months = 60
			}			
		}
	}
	else_if = {
		limit = {
			this.gdp < 20000000
			this.gdp >= 10000000		
		}
		change_variable = {
			name = ist_var_credit_slot
			add = 1
		}		
		add_treasury = 1800000
		add_modifier = {	#bond
			name = ist_modern_credit_state_down_credit4
			months = 60
		}		
		scope:ist_credit_up_country = {
			add_treasury = -1800000
			add_modifier = {	#bond
				name = ist_modern_credit_state_up_credit4
				months = 60
			}			
		}
	}
	else_if = {
		limit = {
			this.gdp < 10000000
			this.gdp >= 5000000		
		}
		change_variable = {
			name = ist_var_credit_slot
			add = 1
		}		
		add_treasury = 1200000
		add_modifier = {	#bond
			name = ist_modern_credit_state_down_credit3
			months = 60
		}		
		scope:ist_credit_up_country = {
			add_treasury = -1200000
			add_modifier = {	#bond
				name = ist_modern_credit_state_up_credit3
				months = 60
			}			
		}
	}
	else_if = {
		limit = {
			this.gdp < 5000000
			this.gdp >= 2000000			
		}
		change_variable = {
			name = ist_var_credit_slot
			add = 1
		}		
		add_treasury = 700000
		add_modifier = {	#bond
			name = ist_modern_credit_state_down_credit2
			months = 60
		}		
		scope:ist_credit_up_country = {
			add_treasury = -700000
			add_modifier = {	#bond
				name = ist_modern_credit_state_up_credit2
				months = 60
			}			
		}
	}
	else_if = {
		limit = {
			this.gdp < 2000000			
		}
		change_variable = {
			name = ist_var_credit_slot
			add = 1
		}		
		add_treasury = 300000
		add_modifier = {	#bond
			name = ist_modern_credit_state_down_credit1
			months = 60
		}		
		scope:ist_credit_up_country = {
			add_treasury = -300000
			add_modifier = {	#bond
				name = ist_modern_credit_state_up_credit1
				months = 60
			}			
		}
	}
	
}

ist_contract_credit_timer = {
	if = {
		limit = {
			NOT = { has_variable = ist_var_credit_token1 }
		}
		set_variable = {
			name = ist_var_credit_token1
			months = 60
		}
		save_scope_as = ist_credit_cont_country1
		scope:ist_credit_up_country = {
			trigger_event = {
				id = ist_modern_events.30
				months = 60
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_credit_token2 }
		}
		set_variable = {
			name = ist_var_credit_token2
			months = 60
		}
		save_scope_as = ist_credit_cont_country2
		scope:ist_credit_up_country = {
			trigger_event = {
				id = ist_modern_events.31
				months = 60
			}			
		}
	}
	else_if = {
		limit = {
			NOT = { has_variable = ist_var_credit_token3 }
		}
		set_variable = {
			name = ist_var_credit_token3
			months = 60
		}
		save_scope_as = ist_credit_cont_country3
		scope:ist_credit_up_country = {
			trigger_event = {
				id = ist_modern_events.32
				months = 60
			}			
		}
	}	
}

ist_remove_credit = {
	remove_modifier = ist_modern_credit_state_down_credit1
	remove_modifier = ist_modern_credit_state_down_credit1
	remove_modifier = ist_modern_credit_state_down_credit1
	remove_modifier = ist_modern_credit_state_down_credit2
	remove_modifier = ist_modern_credit_state_down_credit2
	remove_modifier = ist_modern_credit_state_down_credit2
	remove_modifier = ist_modern_credit_state_down_credit3
	remove_modifier = ist_modern_credit_state_down_credit3
	remove_modifier = ist_modern_credit_state_down_credit3
	remove_modifier = ist_modern_credit_state_down_credit4
	remove_modifier = ist_modern_credit_state_down_credit4
	remove_modifier = ist_modern_credit_state_down_credit4
	remove_modifier = ist_modern_credit_state_down_credit5
	remove_modifier = ist_modern_credit_state_down_credit5
	remove_modifier = ist_modern_credit_state_down_credit5
	
	remove_modifier = ist_modern_mining_state_down_credit1
	remove_modifier = ist_modern_mining_state_down_credit1
	remove_modifier = ist_modern_mining_state_down_credit1
	remove_modifier = ist_modern_mining_state_down_credit2
	remove_modifier = ist_modern_mining_state_down_credit2
	remove_modifier = ist_modern_mining_state_down_credit2
	remove_modifier = ist_modern_mining_state_down_credit3
	remove_modifier = ist_modern_mining_state_down_credit3
	remove_modifier = ist_modern_mining_state_down_credit3
	remove_modifier = ist_modern_mining_state_down_credit4
	remove_modifier = ist_modern_mining_state_down_credit4
	remove_modifier = ist_modern_mining_state_down_credit4
	remove_modifier = ist_modern_mining_state_down_credit5
	remove_modifier = ist_modern_mining_state_down_credit5
	remove_modifier = ist_modern_mining_state_down_credit5

	remove_modifier = ist_modern_forest_state_down_credit1
	remove_modifier = ist_modern_forest_state_down_credit1
	remove_modifier = ist_modern_forest_state_down_credit1
	remove_modifier = ist_modern_forest_state_down_credit2
	remove_modifier = ist_modern_forest_state_down_credit2
	remove_modifier = ist_modern_forest_state_down_credit2
	remove_modifier = ist_modern_forest_state_down_credit3
	remove_modifier = ist_modern_forest_state_down_credit3
	remove_modifier = ist_modern_forest_state_down_credit3
	remove_modifier = ist_modern_forest_state_down_credit4
	remove_modifier = ist_modern_forest_state_down_credit4
	remove_modifier = ist_modern_forest_state_down_credit4
	remove_modifier = ist_modern_forest_state_down_credit5
	remove_modifier = ist_modern_forest_state_down_credit5
	remove_modifier = ist_modern_forest_state_down_credit5		
}